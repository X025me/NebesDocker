{"ast":null,"code":"import _objectSpread from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{SmileOutlined}from'@ant-design/icons';import{Form,Input,Spin,Select,Button,notification}from'antd';import{useSelector}from'react-redux';import{API_SERVER1}from'../../../config/constant';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Option=Select.Option;var formItemLayout={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}};export default function Index(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),model=_useState2[0],setModel=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),active=_useState8[0],setActive=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),objects=_useState10[0],setObjects=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),objectsid=_useState14[0],setObjectsid=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),objtype=_useState16[0],setObjType=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),description=_useState18[0],setDescription=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),pageactivate=_useState20[0],setpageactivate=_useState20[1];var account=useSelector(function(state){return state.account;});var openNotification=function openNotification(){notification.open({message:'Success',description:\"Your Request Has been sent, Thank You\",className:'custom-class',style:{width:600}});};var request=function request(){axios.post(API_SERVER1+\"data/requests/request_change/\".concat(objtype),{object_id:objectsid,content_type:objtype,request_description:description},{headers:{Authorization:\"\".concat(account.token)}}).then(function(response){notification.open({message:'Success',description:\"Thank You\",className:'custom-class',style:{width:600}});window.location.reload();}).catch(function(error){notification.open({message:'Fail',description:\"We couldnt accept your request, please check your internet connection and make sure all required forms are filled\",className:'custom-class',style:{width:600}});});};var getSelectedModelData=function getSelectedModelData(value){setLoading(true);setObjType(value);axios.get(API_SERVER1+\"data/requests/request_change/\".concat(value),{headers:{Authorization:\"\".concat(account.token)}}).then(function(response){console.log(response);setActive(true);setLoading(false);setObjects(response.data);}).catch(function(error){setLoading(false);setError(true);});};var onSelectModel=function onSelectModel(e){if(e=='newvotehoprgeneral'||e=='newvotehopresult'||e=='newvotehoprmax'){setTitle('House of Peoples Representative');}else if(e=='newvotercgeneral'||e=='newvotercresult'||e=='newvotercmax'){setTitle('Regional Constituency ');}getSelectedModelData(e);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center'},children:\"Change Request Form\"}),/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},formItemLayout),{},{children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Data Source\",hasFeedback:true,children:/*#__PURE__*/_jsxs(Select,{allowClear:true,onSelect:onSelectModel,children:[/*#__PURE__*/_jsx(Option,{value:\"newvotehoprgeneral\",children:\"HOPR General Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotehopresult\",children:\"HOPR Candidate Result Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotehoprmax\",children:\"HOPR Winner Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotercgeneral\",children:\"RC General Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotercresult\",children:\"RC Candidate Result Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotercmax\",children:\"RC Winner Data\"})]})}),objtype=='newvotercmax'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.result.general.rcconstituency.regionalconstituencyname},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),' ']}):null,objtype=='newvotercresult'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.rcconstituency.regionalconstituencyname},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),' ']}):null,objtype=='newvotercgeneral'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.rcconstituency.regionalconstituencyname},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),' ']}):null,objtype=='newvotehopresult'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.general.hoprconstituency.constituencyname},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),' ']}):null,objtype=='newvotehoprmax'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.constituency.name},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),' ']}):null,objtype=='newvotehoprgeneral'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.hoprconstituency.constituencyname},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),' ']}):null,/*#__PURE__*/_jsx(Form.Item,{name:\"Description\",label:\"Description\",rules:[{required:true,message:'Please input Description'}],children:/*#__PURE__*/_jsx(Input.TextArea,{showCount:true,maxLength:100,onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsx(Form.Item,{style:{justifyContent:'right',marginLeft:'62%'},children:/*#__PURE__*/_jsx(Button,{onClick:request,type:\"primary\",htmlType:\"submit\",children:\"Send\"})})]}))]});}","map":{"version":3,"sources":["/Users/johndoe/Nebe-data-vistualization/src/views/result/Request/index.js"],"names":["React","useState","useEffect","SmileOutlined","Form","Input","Spin","Select","Button","notification","useSelector","API_SERVER1","axios","Option","formItemLayout","labelCol","xs","span","sm","wrapperCol","Index","model","setModel","loading","setLoading","title","setTitle","active","setActive","objects","setObjects","error","setError","objectsid","setObjectsid","objtype","setObjType","description","setDescription","pageactivate","setpageactivate","account","state","openNotification","open","message","className","style","width","request","post","object_id","content_type","request_description","headers","Authorization","token","then","response","window","location","reload","catch","getSelectedModelData","value","get","console","log","data","onSelectModel","e","textAlign","length","color","map","item","index","id","result","general","rcconstituency","regionalconstituencyname","hoprconstituency","constituencyname","constituency","name","required","target","justifyContent","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { SmileOutlined } from '@ant-design/icons';\nimport { Form, Input, Spin, Select, Button, notification  } from 'antd';\nimport { useSelector } from 'react-redux';\nimport { API_SERVER1 } from '../../../config/constant';\nimport axios from 'axios';\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n    labelCol: {\n        xs: { span: 24 },\n        sm: { span: 6 }\n    },\n    wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 14 }\n    }\n};\n\nexport default function Index() {\n    const [model, setModel] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [title, setTitle] = useState('');\n    const [active, setActive] = useState(false);\n    const [objects, setObjects] = useState([]);\n    const [error, setError] = useState(false);\n    const [objectsid, setObjectsid] = useState(0);\n    const [objtype, setObjType] = useState('');\n    const [description, setDescription] = useState('');\n    const [pageactivate, setpageactivate] = useState(false);\n    const account = useSelector((state) => state.account);\n    const openNotification = () => {\n      notification.open({\n        message: 'Success',\n        description:\n          \"Your Request Has been sent, Thank You\",\n        className: 'custom-class',\n        style: {\n          width: 600,\n        },\n      });\n    };\n\n    const request = () => {\n        axios\n            .post(API_SERVER1 + `data/requests/request_change/${objtype}`, {\n                object_id: objectsid,\n                content_type: objtype,\n                request_description: description\n            }, { headers: { Authorization: `${account.token}` } })\n            .then(function (response) {\n              notification.open({\n                message: 'Success',\n                description:\n                  \"Thank You\",\n                className: 'custom-class',\n                style: {\n                  width: 600,\n                },\n              });\n              window.location.reload()\n              \n            })\n            .catch(function (error) {\n              notification.open({\n                message: 'Fail',\n                description:\n                  \"We couldnt accept your request, please check your internet connection and make sure all required forms are filled\",\n                className: 'custom-class',\n                style: {\n                  width: 600,\n                },\n              });\n            });\n    };\n\n    const getSelectedModelData = (value) => {\n        setLoading(true);\n        setObjType(value);\n        axios\n            .get(API_SERVER1 + `data/requests/request_change/${value}`, { headers: { Authorization: `${account.token}` } })\n            .then(function (response) {\n                console.log(response);\n                setActive(true);\n                setLoading(false);\n                setObjects(response.data);\n            })\n            .catch(function (error) {\n                setLoading(false);\n                setError(true);\n            });\n    };\n    const onSelectModel = (e) => {\n        if (e == 'newvotehoprgeneral' || e == 'newvotehopresult' || e == 'newvotehoprmax') {\n            setTitle('House of Peoples Representative');\n        } else if (e == 'newvotercgeneral' || e == 'newvotercresult' || e == 'newvotercmax') {\n            setTitle('Regional Constituency ');\n        }\n\n        getSelectedModelData(e);\n    };\n    return (\n        <div>\n            <h3 style={{ textAlign: 'center' }}>Change Request Form</h3>\n            <Form {...formItemLayout}>\n                <Form.Item label=\"Data Source\" hasFeedback>\n                    <Select allowClear onSelect={onSelectModel}>\n                        <Option value=\"newvotehoprgeneral\">HOPR General Data</Option>\n                        <Option value=\"newvotehopresult\">HOPR Candidate Result Data</Option>\n                        <Option value=\"newvotehoprmax\">HOPR Winner Data</Option>\n                        <Option value=\"newvotercgeneral\">RC General Data</Option>\n                        <Option value=\"newvotercresult\">RC Candidate Result Data</Option>\n                        <Option value=\"newvotercmax\">RC Winner Data</Option>\n                    </Select>\n                </Form.Item>\n                {objtype == 'newvotercmax' ? (\n                    <>\n                        {active ? (\n                            <Form.Item label={title} validateStatus=\"warning\">\n                                {!objects.length ? (\n                                    <p style={{ color: 'red' }}>Error Loading Data, please check your connection and refresh the page</p>\n                                ) : (\n                                    <Select onSelect={(e) => setObjectsid(e)}>\n                                        {objects.map((item, index) => (\n                                            <Option key={index} value={item.id}>\n                                                {item.result.general.rcconstituency.regionalconstituencyname}\n                                            </Option>\n                                        ))}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        ) : (\n                            <div>{loading ? <Spin /> : null}</div>\n                        )}{' '}\n                    </>\n                ) : null}\n                {objtype == 'newvotercresult' ? (\n                    <>\n                        {active ? (\n                            <Form.Item label={title} validateStatus=\"warning\">\n                                {!objects.length ? (\n                                    <p style={{ color: 'red' }}>Error Loading Data, please check your connection and refresh the page</p>\n                                ) : (\n                                    <Select onSelect={(e) => setObjectsid(e)}>\n                                        {objects.map((item, index) => (\n                                            <Option key={index} value={item.id}>\n                                                {item.rcconstituency.regionalconstituencyname}\n                                            </Option>\n                                        ))}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        ) : (\n                            <div>{loading ? <Spin /> : null}</div>\n                        )}{' '}\n                    </>\n                ) : null}\n                {objtype == 'newvotercgeneral' ? (\n                    <>\n                        {active ? (\n                            <Form.Item label={title} validateStatus=\"warning\">\n                                {!objects.length ? (\n                                    <p style={{ color: 'red' }}>Error Loading Data, please check your connection and refresh the page</p>\n                                ) : (\n                                    <Select onSelect={(e) => setObjectsid(e)}>\n                                        {objects.map((item, index) => (\n                                            <Option key={index} value={item.id}>\n                                                {item.rcconstituency.regionalconstituencyname}\n                                            </Option>\n                                        ))}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        ) : (\n                            <div>{loading ? <Spin /> : null}</div>\n                        )}{' '}\n                    </>\n                ) : null}\n                {objtype == 'newvotehopresult' ? (\n                    <>\n                        {active ? (\n                            <Form.Item label={title} validateStatus=\"warning\">\n                                {!objects.length ? (\n                                    <p style={{ color: 'red' }}>Error Loading Data, please check your connection and refresh the page</p>\n                                ) : (\n                                    <Select onSelect={(e) => setObjectsid(e)}>\n                                        {objects.map((item, index) => (\n                                            <Option key={index} value={item.id}>\n                                                {item.general.hoprconstituency.constituencyname}\n                                            </Option>\n                                        ))}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        ) : (\n                            <div>{loading ? <Spin /> : null}</div>\n                        )}{' '}\n                    </>\n                ) : null}\n\n                {objtype == 'newvotehoprmax' ? (\n                    <>\n                        {active ? (\n                            <Form.Item label={title} validateStatus=\"warning\">\n                                {!objects.length ? (\n                                    <p style={{ color: 'red' }}>Error Loading Data, please check your connection and refresh the page</p>\n                                ) : (\n                                    <Select onSelect={(e) => setObjectsid(e)}>\n                                        {objects.map((item, index) => (\n                                            <Option key={index} value={item.id}>\n                                                {item.constituency.name}\n                                            </Option>\n                                        ))}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        ) : (\n                            <div>{loading ? <Spin /> : null}</div>\n                        )}{' '}\n                    </>\n                ) : null}\n                {objtype == 'newvotehoprgeneral' ? (\n                    <>\n                        {active ? (\n                            <Form.Item label={title} validateStatus=\"warning\">\n                                {!objects.length ? (\n                                    <p style={{ color: 'red' }}>Error Loading Data, please check your connection and refresh the page</p>\n                                ) : (\n                                    <Select onSelect={(e) => setObjectsid(e)}>\n                                        {objects.map((item, index) => (\n                                            <Option key={index} value={item.id}>\n                                                {item.hoprconstituency.constituencyname}\n                                            </Option>\n                                        ))}\n                                    </Select>\n                                )}\n                            </Form.Item>\n                        ) : (\n                            <div>{loading ? <Spin /> : null}</div>\n                        )}{' '}\n                    </>\n                ) : null}\n                <Form.Item name=\"Description\" label=\"Description\" rules={[{ required: true, message: 'Please input Description' }]}>\n                    <Input.TextArea showCount maxLength={100} onChange={(e) => setDescription(e.target.value)} />\n                </Form.Item>\n                <Form.Item style={{ justifyContent: 'right', marginLeft: '62%' }}>\n                    <Button onClick={request} type=\"primary\" htmlType=\"submit\">\n                        Send\n                    </Button>\n                </Form.Item>\n            </Form>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}