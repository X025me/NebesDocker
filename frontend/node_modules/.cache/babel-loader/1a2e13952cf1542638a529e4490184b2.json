{"ast":null,"code":"import _toConsumableArray from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{createContext,useReducer}from'react';import*as actionType from'../store/actions';import{CONFIG}from'../config/constant';import{jsx as _jsx}from\"react/jsx-runtime\";var initialState=_objectSpread(_objectSpread({},CONFIG),{},{isOpen:[],//for active default menu\nisTrigger:[]//for active default menu, set blank for horizontal\n});var ConfigContext=/*#__PURE__*/createContext(initialState);var Provider=ConfigContext.Provider;var ConfigProvider=function ConfigProvider(_ref){var children=_ref.children;var trigger=[];var open=[];var _useReducer=useReducer(function(state,action){switch(action.type){case actionType.COLLAPSE_MENU:return _objectSpread(_objectSpread({},state),{},{collapseMenu:!state.collapseMenu});case actionType.COLLAPSE_TOGGLE:if(action.menu.type==='sub'){open=state.isOpen;trigger=state.isTrigger;var triggerIndex=trigger.indexOf(action.menu.id);if(triggerIndex>-1){open=open.filter(function(item){return item!==action.menu.id;});trigger=trigger.filter(function(item){return item!==action.menu.id;});}if(triggerIndex===-1){open=[].concat(_toConsumableArray(open),[action.menu.id]);trigger=[].concat(_toConsumableArray(trigger),[action.menu.id]);}}else{open=state.isOpen;var _triggerIndex=state.isTrigger.indexOf(action.menu.id);trigger=_triggerIndex===-1?[action.menu.id]:[];open=_triggerIndex===-1?[action.menu.id]:[];}return _objectSpread(_objectSpread({},state),{},{isOpen:open,isTrigger:trigger});case actionType.NAV_COLLAPSE_LEAVE:if(action.menu.type==='sub'){open=state.isOpen;trigger=state.isTrigger;var _triggerIndex2=trigger.indexOf(action.menu.id);if(_triggerIndex2>-1){open=open.filter(function(item){return item!==action.menu.id;});trigger=trigger.filter(function(item){return item!==action.menu.id;});}return _objectSpread(_objectSpread({},state),{},{isOpen:open,isTrigger:trigger});}return _objectSpread({},state);case actionType.NAV_CONTENT_LEAVE:return _objectSpread(_objectSpread({},state),{},{isOpen:open,isTrigger:trigger});default:throw new Error();}},initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(Provider,{value:{state:state,dispatch:dispatch},children:children});};export{ConfigContext,ConfigProvider};","map":{"version":3,"sources":["/Users/johndoe/Nebe-data-vistualization/src/contexts/ConfigContext.js"],"names":["React","createContext","useReducer","actionType","CONFIG","initialState","isOpen","isTrigger","ConfigContext","Provider","ConfigProvider","children","trigger","open","state","action","type","COLLAPSE_MENU","collapseMenu","COLLAPSE_TOGGLE","menu","triggerIndex","indexOf","id","filter","item","NAV_COLLAPSE_LEAVE","NAV_CONTENT_LEAVE","Error","dispatch"],"mappings":"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","sourcesContent":["import React, { createContext, useReducer } from 'react';\nimport * as actionType from '../store/actions';\nimport { CONFIG } from '../config/constant';\n\nconst initialState = {\n    ...CONFIG,\n    isOpen: [], //for active default menu\n    isTrigger: [] //for active default menu, set blank for horizontal\n};\nconst ConfigContext = createContext(initialState);\nconst { Provider } = ConfigContext;\n\nconst ConfigProvider = ({ children }) => {\n    let trigger = [];\n    let open = [];\n\n    const [state, dispatch] = useReducer((state, action) => {\n        switch (action.type) {\n            case actionType.COLLAPSE_MENU:\n                return {\n                    ...state,\n                    collapseMenu: !state.collapseMenu\n                };\n            case actionType.COLLAPSE_TOGGLE:\n                if (action.menu.type === 'sub') {\n                    open = state.isOpen;\n                    trigger = state.isTrigger;\n\n                    const triggerIndex = trigger.indexOf(action.menu.id);\n                    if (triggerIndex > -1) {\n                        open = open.filter((item) => item !== action.menu.id);\n                        trigger = trigger.filter((item) => item !== action.menu.id);\n                    }\n\n                    if (triggerIndex === -1) {\n                        open = [...open, action.menu.id];\n                        trigger = [...trigger, action.menu.id];\n                    }\n                } else {\n                    open = state.isOpen;\n                    const triggerIndex = state.isTrigger.indexOf(action.menu.id);\n                    trigger = triggerIndex === -1 ? [action.menu.id] : [];\n                    open = triggerIndex === -1 ? [action.menu.id] : [];\n                }\n\n                return {\n                    ...state,\n                    isOpen: open,\n                    isTrigger: trigger\n                };\n\n            case actionType.NAV_COLLAPSE_LEAVE:\n                if (action.menu.type === 'sub') {\n                    open = state.isOpen;\n                    trigger = state.isTrigger;\n\n                    const triggerIndex = trigger.indexOf(action.menu.id);\n                    if (triggerIndex > -1) {\n                        open = open.filter((item) => item !== action.menu.id);\n                        trigger = trigger.filter((item) => item !== action.menu.id);\n                    }\n                    return {\n                        ...state,\n                        isOpen: open,\n                        isTrigger: trigger\n                    };\n                }\n                return { ...state };\n            case actionType.NAV_CONTENT_LEAVE:\n                return {\n                    ...state,\n                    isOpen: open,\n                    isTrigger: trigger\n                };\n\n            default:\n                throw new Error();\n        }\n    }, initialState);\n\n    return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { ConfigContext, ConfigProvider };\n"]},"metadata":{},"sourceType":"module"}