{"ast":null,"code":"import _slicedToArray from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{ListGroup,Dropdown,Media}from'react-bootstrap';import{Link}from'react-router-dom';import PerfectScrollbar from'react-perfect-scrollbar';import axios from'axios';import ChatList from'./ChatList';import{API_SERVER}from'../../../../config/constant';import{LOGOUT}from'./../../../../store/actions';import avatar1 from'../../../../assets/images/user/avatar-1.jpg';import avatar2 from'../../../../assets/images/user/avatar-2.jpg';import avatar3 from'../../../../assets/images/user/avatar-3.jpg';import avatar4 from'../../../../assets/images/user/avatar-4.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavRight=function NavRight(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var account=useSelector(function(state){return state.account;});var dispatcher=useDispatch();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),listOpen=_useState4[0],setListOpen=_useState4[1];var handleLogout=function handleLogout(){axios.post(API_SERVER+'users/logout',{},{headers:{Authorization:\"\".concat(account.token)}}).then(function(response){// Force the LOGOUT\n//if (response.data.success) {\ndispatcher({type:LOGOUT});//} else {\n//    console.log('response - ', response.data.msg);\n//}\n}).catch(function(error){console.log('error - ',error);});};useEffect(function(){var data=window.localStorage.getItem('datta-account');var res=JSON.parse(data);var news=res.user.indexOf('email');var emails=res.user.slice(news+8,-2);setUser(emails);},[]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(ListGroup,{as:\"ul\",bsPrefix:\" \",className:\"navbar-nav ml-auto\",id:\"navbar-right\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",bsPrefix:\" \"}),/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",bsPrefix:\" \",children:/*#__PURE__*/_jsx(Dropdown,{children:/*#__PURE__*/_jsx(Dropdown.Toggle,{as:Link,variant:\"link\",to:\"#\",className:\"displayChatbox\",onClick:function onClick(){return setListOpen(true);},children:/*#__PURE__*/_jsx(\"i\",{className:\"icon feather icon-mail\"})})})}),/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",bsPrefix:\" \",children:/*#__PURE__*/_jsxs(Dropdown,{className:\"drp-user\",children:[/*#__PURE__*/_jsx(Dropdown.Toggle,{as:Link,variant:\"link\",to:\"#\",id:\"dropdown-basic\",children:/*#__PURE__*/_jsx(\"i\",{className:\"icon feather icon-settings\"})}),/*#__PURE__*/_jsxs(Dropdown.Menu,{alignRight:true,className:\"profile-notification\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pro-head\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar1,className:\"img-radius\",alt:\"User Profile\"}),/*#__PURE__*/_jsx(\"span\",{children:user?account.user.email:null}),/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"dud-logout\",onClick:handleLogout,title:\"Logout\",children:/*#__PURE__*/_jsx(\"i\",{className:\"feather icon-log-out\"})})]}),/*#__PURE__*/_jsx(ListGroup,{as:\"ul\",bsPrefix:\" \",variant:\"flush\",className:\"pro-body\",children:/*#__PURE__*/_jsx(ListGroup.Item,{as:\"li\",bsPrefix:\" \",children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"dropdown-item\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"feather icon-log-out\"}),\" Logout\"]})})})]})]})})]}),/*#__PURE__*/_jsx(ChatList,{listOpen:listOpen,closed:function closed(){return setListOpen(false);}})]});};export default NavRight;","map":{"version":3,"sources":["/Users/johndoe/Nebe-data-vistualization/src/layouts/AdminLayout/NavBar/NavRight/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","ListGroup","Dropdown","Media","Link","PerfectScrollbar","axios","ChatList","API_SERVER","LOGOUT","avatar1","avatar2","avatar3","avatar4","NavRight","user","setUser","account","state","dispatcher","listOpen","setListOpen","handleLogout","post","headers","Authorization","token","then","response","type","catch","error","console","log","data","window","localStorage","getItem","res","JSON","parse","news","indexOf","emails","slice","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ListGroup, Dropdown, Media } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport axios from 'axios';\n\nimport ChatList from './ChatList';\nimport { API_SERVER } from '../../../../config/constant';\nimport { LOGOUT } from './../../../../store/actions';\n\nimport avatar1 from '../../../../assets/images/user/avatar-1.jpg';\nimport avatar2 from '../../../../assets/images/user/avatar-2.jpg';\nimport avatar3 from '../../../../assets/images/user/avatar-3.jpg';\nimport avatar4 from '../../../../assets/images/user/avatar-4.jpg';\n\nconst NavRight = () => {\n    const [user, setUser] = useState(null)\n    const account = useSelector((state) => state.account);\n    const dispatcher = useDispatch();\n\n    const [listOpen, setListOpen] = useState(false);\n\n    const handleLogout = () => {\n        axios\n            .post(API_SERVER + 'users/logout', {}, { headers: { Authorization: `${account.token}` } })\n            .then(function (response) {\n                // Force the LOGOUT\n                //if (response.data.success) {\n                dispatcher({ type: LOGOUT });\n                //} else {\n                //    console.log('response - ', response.data.msg);\n                //}\n            })\n            .catch(function (error) {\n                console.log('error - ', error);\n            });\n    };\n    useEffect(() =>{\n        var data = window.localStorage.getItem('datta-account')\n        var res = JSON.parse(data)        \n        var news = res.user.indexOf('email')\n        var emails = res.user.slice(news+8, -2)\n        setUser(emails)\n    }, [])\n\n    return (\n        <React.Fragment>\n            <ListGroup as=\"ul\" bsPrefix=\" \" className=\"navbar-nav ml-auto\" id=\"navbar-right\">\n                <ListGroup.Item as=\"li\" bsPrefix=\" \">\n                    {/* <Dropdown>\n                        <Dropdown.Toggle as={Link} variant=\"link\" to=\"#\" id=\"dropdown-basic\">\n                            <i className=\"feather icon-bell icon\" />\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu alignRight className=\"notification notification-scroll\">\n                            <div className=\"noti-head\">\n                                <h6 className=\"d-inline-block m-b-0\">Notifications</h6>\n                                <div className=\"float-right\">\n                                    <Link to=\"#\" className=\"m-r-10\">\n                                        mark as read\n                                    </Link>\n                                    <Link to=\"#\">clear all</Link>\n                                </div>\n                            </div>\n                            <PerfectScrollbar>\n                                <ListGroup as=\"ul\" bsPrefix=\" \" variant=\"flush\" className=\"noti-body\">\n                                    <ListGroup.Item as=\"li\" bsPrefix=\" \" className=\"n-title\">\n                                        <p className=\"m-b-0\">NEW</p>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item as=\"li\" bsPrefix=\" \" className=\"notification\">\n                                        <Media>\n                                            <img className=\"img-radius\" src={avatar1} alt=\"Generic placeholder\" />\n                                            <Media.Body>\n                                                <p>\n                                                    <strong>John Doe</strong>\n                                                    <span className=\"n-time text-muted\">\n                                                        <i className=\"icon feather icon-clock m-r-10\" />\n                                                        30 min\n                                                    </span>\n                                                </p>\n                                                <p>New ticket Added</p>\n                                            </Media.Body>\n                                        </Media>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item as=\"li\" bsPrefix=\" \" className=\"n-title\">\n                                        <p className=\"m-b-0\">EARLIER</p>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item as=\"li\" bsPrefix=\" \" className=\"notification\">\n                                        <Media>\n                                            <img className=\"img-radius\" src={avatar2} alt=\"Generic placeholder\" />\n                                            <Media.Body>\n                                                <p>\n                                                    <strong>Joseph William</strong>\n                                                    <span className=\"n-time text-muted\">\n                                                        <i className=\"icon feather icon-clock m-r-10\" />\n                                                        30 min\n                                                    </span>\n                                                </p>\n                                                <p>Purchase New Theme and make payment</p>\n                                            </Media.Body>\n                                        </Media>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item as=\"li\" bsPrefix=\" \" className=\"notification\">\n                                        <Media>\n                                            <img className=\"img-radius\" src={avatar3} alt=\"Generic placeholder\" />\n                                            <Media.Body>\n                                                <p>\n                                                    <strong>Sara Soudein</strong>\n                                                    <span className=\"n-time text-muted\">\n                                                        <i className=\"icon feather icon-clock m-r-10\" />\n                                                        30 min\n                                                    </span>\n                                                </p>\n                                                <p>currently login</p>\n                                            </Media.Body>\n                                        </Media>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item as=\"li\" bsPrefix=\" \" className=\"notification\">\n                                        <Media>\n                                            <img className=\"img-radius\" src={avatar4} alt=\"Generic placeholder\" />\n                                            <Media.Body>\n                                                <p>\n                                                    <strong>Suzen</strong>\n                                                    <span className=\"n-time text-muted\">\n                                                        <i className=\"icon feather icon-clock m-r-10\" />\n                                                        yesterday\n                                                    </span>\n                                                </p>\n                                                <p>Purchase New Theme and make payment</p>\n                                            </Media.Body>\n                                        </Media>\n                                    </ListGroup.Item>\n                                </ListGroup>\n                            </PerfectScrollbar>\n                            <div className=\"noti-footer\">\n                                <Link to=\"#\">show all</Link>\n                            </div>\n                        </Dropdown.Menu>\n                    </Dropdown> */}\n                </ListGroup.Item>\n                <ListGroup.Item as=\"li\" bsPrefix=\" \">\n                    <Dropdown>\n                        <Dropdown.Toggle as={Link} variant=\"link\" to=\"#\" className=\"displayChatbox\" onClick={() => setListOpen(true)}>\n                            <i className=\"icon feather icon-mail\" />\n                        </Dropdown.Toggle>\n                    </Dropdown>\n                </ListGroup.Item>\n                <ListGroup.Item as=\"li\" bsPrefix=\" \">\n                    <Dropdown className=\"drp-user\">\n                        <Dropdown.Toggle as={Link} variant=\"link\" to=\"#\" id=\"dropdown-basic\">\n                            <i className=\"icon feather icon-settings\" />\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu alignRight className=\"profile-notification\">\n                            <div className=\"pro-head\">\n                                <img src={avatar1} className=\"img-radius\" alt=\"User Profile\" />\n                                <span>\n                                   {user ? account.user.email : null}\n                                </span>\n                                <Link to=\"#\" className=\"dud-logout\" onClick={handleLogout} title=\"Logout\">\n                                    <i className=\"feather icon-log-out\" />\n                                </Link>\n                            </div>\n                            <ListGroup as=\"ul\" bsPrefix=\" \" variant=\"flush\" className=\"pro-body\">\n                                <ListGroup.Item as=\"li\" bsPrefix=\" \">\n                                    <Link to=\"#\" className=\"dropdown-item\" onClick={handleLogout}>\n                                        <i className=\"feather icon-log-out\" /> Logout\n                                    </Link>\n                                </ListGroup.Item>\n                            </ListGroup>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </ListGroup.Item>\n            </ListGroup>\n            <ChatList listOpen={listOpen} closed={() => setListOpen(false)} />\n        </React.Fragment>\n    );\n};\n\nexport default NavRight;\n"]},"metadata":{},"sourceType":"module"}