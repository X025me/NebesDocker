{"ast":null,"code":"var _jsxFileName = \"/Users/johndoe/Nebe-data-vistualization/src/views/result/Tables/ResultTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Table, Tag, Space } from 'antd';\nimport { Button } from 'react-bootstrap';\nimport { API_SERVER1 } from '../../../config/constant';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ResultTable() {\n  _s();\n\n  const [language, setLanguage] = useState(false);\n  const [result, setResult] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [cand_to_xl, setXL] = useState([]);\n\n  const prepareXL = data => {\n    let obj = {};\n    var cand = [];\n    data.map((item, index) => {\n      obj = {\n        'ተ.ቁ': index,\n        'ምርጫው የተካሄደበት ክልል/ከተማ መስተዳድር': item.region,\n        'የተመዘገቡ መራጮች ቁጥር': item.no_registerd_voters_hopr,\n        'ከተመዘገቡ መራጮች መካከል ድምፅ የሰጡ በመቶኛ': item.no_votes_hopr,\n        'ክልሉ ያለው የተወካዮች ምክር ቤት መቀመጫ ብዛት': item.no_of_hopr_seat,\n        'ክልሉ ያለው የክልል ምክር ቤት መቀመጫ ብዛት': item.no_of_rc_seat,\n        'መስከረም 20 ቀን ምርጫ የተከናወነበት የተወካዮች ምክር ቤት ምርጫ ክልል ብዛት': item.no_of_sept20_rc,\n        'ለተወካዮች ምክር ቤት መቀመጫ ያገኙ ፓርቲዎች እና የመቀመጫ ቁጥር': item.hopr_win_party,\n        'ድጋሚ ቆጠራ የሚከናወንበት ምርጫ ክልል ብዛት': item.re_count_rc,\n        'ድጋሚ ምርጫ የሚከናወንበት ምርጫ ክልል ብዛት': item.re_election_rc,\n        'መስከረም 20 ቀን ምርጫ የተከናወነበት የክልል ምክር ቤት ምርጫ ክልል ብዛት': 0,\n        'በሁለቱም ምርጫ አይነቶች ምርመራ ላይ ያሉ ምርጫ ክልሎች ብዛት': 0\n      };\n      cand.push(obj);\n    });\n    console.log('data is ', cand);\n    setXL(cand);\n  };\n\n  const ExportCSV = ({\n    csvData,\n    fileName\n  }) => {\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    const fileExtension = '.xlsx';\n\n    const exportToCSV = (csvData, fileName) => {\n      const ws = XLSX.utils.json_to_sheet(csvData);\n      const wb = {\n        Sheets: {\n          'data': ws\n        },\n        SheetNames: ['data']\n      };\n      const excelBuffer = XLSX.write(wb, {\n        bookType: 'xlsx',\n        type: 'array'\n      });\n      const data = new Blob([excelBuffer], {\n        type: fileType\n      });\n      FileSaver.saveAs(data, fileName + fileExtension);\n    };\n\n    return /*#__PURE__*/_jsxDEV(Button, {\n      onClick: e => exportToCSV(csvData, fileName),\n      children: \"Generate XL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getResults = async () => {\n    setLoading(true);\n\n    try {\n      const response = await fetch(API_SERVER1 + `data/read/result_anouncement/`);\n      const res = await response.json();\n      setResult(res.slice(1));\n      prepareXL(res.slice(1));\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const columns = [{\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ተ.ቁ' : 'no'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'id',\n    key: 'id' // render: text => <a>{text}</a>,\n\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ምርጫው የተካሄደበት ክልል/ከተማ መስተዳድር' : 'Region'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'region',\n    key: 'region'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'የተመዘገቡ መራጮች ቁጥር' : 'Number of Registered Voters'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'no_registerd_voters_hopr',\n    key: 'no_registerd_voters_hopr'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ከተመዘገቡ መራጮች መካከል ድምፅ የሰጡ በመቶኛ' : 'Number of Voted Voters from Registerd Voters in %'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 18\n    }, this),\n    key: 'no_votes_hopr',\n    dataIndex: 'no_votes_hopr'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ክልሉ ያለው የተወካዮች ምክር ቤት መቀመጫ ብዛት' : 'Number of HOPR seats in The Region'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'no_of_hopr_seat',\n    key: 'no_of_hopr_seat'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ክልሉ ያለው የክልል ምክር ቤት መቀመጫ ብዛት' : 'Number of seats in the Regional Counsel'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 20\n    }, this),\n    dataIndex: 'no_of_rc_seat',\n    key: 'no_of_rc_seat'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'መስከረም 20 ቀን ምርጫ የተከናወነበት የተወካዮች ምክር ቤት ምርጫ ክልል ብዛት' : 'Number of constituencies in which the September 20 by-elections were held'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'no_of_sept20_rc',\n    key: 'no_of_sept20_rc'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ለተወካዮች ምክር ቤት መቀመጫ ያገኙ ፓርቲዎች እና የመቀመጫ ቁጥር' : 'The number of parties that have won seats in the House of Representatives and the number of seats'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'hopr_win_party',\n    key: 'hopr_win_party',\n    render: tags => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: tags.map(tag => {\n        let color = tag.length > 5 ? 'geekblue' : 'green';\n\n        if (tag === 'loser') {\n          color = 'volcano';\n        }\n\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          color: color,\n          children: [tag.name, \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red'\n            },\n            children: [\" with \", tag.seat, \" seat\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 19\n        }, this);\n      })\n    }, void 0, false)\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ድጋሚ ቆጠራ የሚከናወንበት ምርጫ ክልል ብዛት' : 'Re-counting constituency number seat'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 18\n    }, this),\n    dataIndex: 're_count_rc',\n    key: 're_count_rc'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'ድጋሚ ምርጫ የሚከናወንበት ምርጫ ክልል ብዛት' : 'Number of Regional Constituency with re-election'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 18\n    }, this),\n    dataIndex: 're_election_rc',\n    key: 're_election_rc'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'መስከረም 20 ቀን ምርጫ የተከናወነበት የክልል ምክር ቤት ምርጫ ክልል ብዛት' : 'The number of constituencies where the September 20 elections were held'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'address',\n    key: 'address'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 12,\n        color: '#1dc4e9'\n      },\n      children: language ? 'በሁለቱም ምርጫ አይነቶች ምርመራ ላይ ያሉ ምርጫ ክልሎች ብዛት' : 'Number of constituencies under investigation in both types of elections'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 18\n    }, this),\n    dataIndex: 'address',\n    key: 'address'\n  }];\n  useEffect(() => getResults(), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '5%'\n    },\n    children: [loading ? /*#__PURE__*/_jsxDEV(Button, {\n      disabled: true,\n      children: \"Generate XL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(ExportCSV, {\n      csvData: cand_to_xl,\n      fileName: \"result announcement\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 58\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => setLanguage(!language),\n      children: language ? 'English' : 'Amharic'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      pagination: {\n        position: [],\n        pageSize: result.length\n      },\n      size: \"larg\",\n      columns: columns,\n      dataSource: result,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 3\n  }, this);\n}\n\n_s(ResultTable, \"9GRJ5VVYB7p7mysTiw96gFMCAGc=\");\n\n_c = ResultTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResultTable\");","map":{"version":3,"sources":["/Users/johndoe/Nebe-data-vistualization/src/views/result/Tables/ResultTable.js"],"names":["React","useEffect","useState","Table","Tag","Space","Button","API_SERVER1","FileSaver","XLSX","ResultTable","language","setLanguage","result","setResult","loading","setLoading","cand_to_xl","setXL","prepareXL","data","obj","cand","map","item","index","region","no_registerd_voters_hopr","no_votes_hopr","no_of_hopr_seat","no_of_rc_seat","no_of_sept20_rc","hopr_win_party","re_count_rc","re_election_rc","push","console","log","ExportCSV","csvData","fileName","fileType","fileExtension","exportToCSV","ws","utils","json_to_sheet","wb","Sheets","SheetNames","excelBuffer","write","bookType","type","Blob","saveAs","e","getResults","response","fetch","res","json","slice","error","columns","title","fontSize","color","dataIndex","key","render","tags","tag","length","name","seat","marginTop","position","pageSize"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { Table, Tag, Space } from 'antd';\nimport { Button } from 'react-bootstrap';\nimport { API_SERVER1 } from '../../../config/constant';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\n\n\nexport default function ResultTable() {\n    const [language, setLanguage] = useState(false)\n    const [result, setResult] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [cand_to_xl, setXL] = useState([])\n\n\n    const prepareXL = (data) =>{\n        let obj = {}\n        var cand = []\n        data.map((item, index) =>{\n            obj = {\n                'ተ.ቁ': index,\n                'ምርጫው የተካሄደበት ክልል/ከተማ መስተዳድር': item.region,\n                'የተመዘገቡ መራጮች ቁጥር': item.no_registerd_voters_hopr,\n                'ከተመዘገቡ መራጮች መካከል ድምፅ የሰጡ በመቶኛ':item.no_votes_hopr,\n                'ክልሉ ያለው የተወካዮች ምክር ቤት መቀመጫ ብዛት':item.no_of_hopr_seat,\n                'ክልሉ ያለው የክልል ምክር ቤት መቀመጫ ብዛት':item.no_of_rc_seat,\n                'መስከረም 20 ቀን ምርጫ የተከናወነበት የተወካዮች ምክር ቤት ምርጫ ክልል ብዛት':item.no_of_sept20_rc,\n                'ለተወካዮች ምክር ቤት መቀመጫ ያገኙ ፓርቲዎች እና የመቀመጫ ቁጥር': item.hopr_win_party,\n                'ድጋሚ ቆጠራ የሚከናወንበት ምርጫ ክልል ብዛት': item.re_count_rc,\n                'ድጋሚ ምርጫ የሚከናወንበት ምርጫ ክልል ብዛት':item.re_election_rc,\n                'መስከረም 20 ቀን ምርጫ የተከናወነበት የክልል ምክር ቤት ምርጫ ክልል ብዛት': 0,\n                'በሁለቱም ምርጫ አይነቶች ምርመራ ላይ ያሉ ምርጫ ክልሎች ብዛት':0\n\n                \n            }\n            cand.push(obj)\n        })\n        console.log('data is ', cand)\n        setXL(cand)\n        \n    }\n    const ExportCSV = ({csvData, fileName}) => {\n        \n    \n        const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n        const fileExtension = '.xlsx';\n    \n        const exportToCSV = (csvData, fileName) => {\n            const ws = XLSX.utils.json_to_sheet(csvData);\n            const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n            const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n            const data = new Blob([excelBuffer], {type: fileType});\n            FileSaver.saveAs(data, fileName + fileExtension);\n        }\n            \n        \n    \n        return (\n            <Button onClick={(e) => exportToCSV(csvData,fileName)}>Generate XL</Button>\n        )\n    }\n\n    const getResults = async() =>{\n        setLoading(true)\n        try {\n            const response = await fetch(API_SERVER1+`data/read/result_anouncement/`)\n            const res = await response.json()\n            setResult(res.slice(1,))\n            prepareXL(res.slice(1,))\n            setLoading(false)\n            \n        } catch (error) {\n            console.log(error)\n        }\n    }\n    const columns = [\n        {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ተ.ቁ' : 'no'}</p>,\n          dataIndex: 'id',\n          key: 'id',\n          // render: text => <a>{text}</a>,\n        },\n        {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ምርጫው የተካሄደበት ክልል/ከተማ መስተዳድር' : 'Region'}</p>,\n          dataIndex: 'region',\n          key: 'region',\n        },\n        {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'የተመዘገቡ መራጮች ቁጥር' : 'Number of Registered Voters'}</p>,\n          dataIndex: 'no_registerd_voters_hopr',\n          key: 'no_registerd_voters_hopr',\n        },\n      \n        {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ከተመዘገቡ መራጮች መካከል ድምፅ የሰጡ በመቶኛ' : 'Number of Voted Voters from Registerd Voters in %'}</p>,\n          key: 'no_votes_hopr',\n          dataIndex: 'no_votes_hopr',\n        },  \n        {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ክልሉ ያለው የተወካዮች ምክር ቤት መቀመጫ ብዛት': 'Number of HOPR seats in The Region'}</p>,\n          dataIndex: 'no_of_hopr_seat',\n          key: 'no_of_hopr_seat',\n        },\n        {\n            title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ክልሉ ያለው የክልል ምክር ቤት መቀመጫ ብዛት' : 'Number of seats in the Regional Counsel'}</p>, \n            dataIndex: 'no_of_rc_seat',\n            key: 'no_of_rc_seat'\n        },\n        {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'መስከረም 20 ቀን ምርጫ የተከናወነበት የተወካዮች ምክር ቤት ምርጫ ክልል ብዛት': 'Number of constituencies in which the September 20 by-elections were held'}</p>, \n          dataIndex: 'no_of_sept20_rc',\n          key: 'no_of_sept20_rc'\n      },\n      {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ለተወካዮች ምክር ቤት መቀመጫ ያገኙ ፓርቲዎች እና የመቀመጫ ቁጥር' : 'The number of parties that have won seats in the House of Representatives and the number of seats'}</p>, \n          dataIndex: 'hopr_win_party',\n          key: 'hopr_win_party',\n          render: tags => (\n            <>\n              {tags.map(tag => {\n                let color = tag.length > 5 ? 'geekblue' : 'green';\n                if (tag === 'loser') {\n                  color = 'volcano';\n                }\n                return (\n                  <Tag color={color}>\n                    {tag.name} <p style={{color: 'red'}}> with {tag.seat} seat</p>\n                  </Tag>\n                );\n              })}\n            </>\n          ),\n      },\n      {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ድጋሚ ቆጠራ የሚከናወንበት ምርጫ ክልል ብዛት' : 'Re-counting constituency number seat'}</p>,\n          dataIndex: 're_count_rc',\n          key: 're_count_rc'\n      },\n      {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'ድጋሚ ምርጫ የሚከናወንበት ምርጫ ክልል ብዛት' : 'Number of Regional Constituency with re-election'}</p>,\n          dataIndex: 're_election_rc',\n          key: 're_election_rc'\n      },\n      {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'መስከረም 20 ቀን ምርጫ የተከናወነበት የክልል ምክር ቤት ምርጫ ክልል ብዛት' : 'The number of constituencies where the September 20 elections were held'}</p>,\n          dataIndex: 'address',\n          key: 'address'\n      },\n      {\n          title: <p style={{fontSize: 12, color: '#1dc4e9'}}>{language ? 'በሁለቱም ምርጫ አይነቶች ምርመራ ላይ ያሉ ምርጫ ክልሎች ብዛት': 'Number of constituencies under investigation in both types of elections'}</p>,\n          dataIndex: 'address',\n          key: 'address'\n      },\n      ];\n      useEffect(() => getResults(),[])\n  return (\n  <div style={{marginTop: '5%'}}>\n      {loading ? <Button disabled>Generate XL</Button> : <ExportCSV csvData={cand_to_xl} fileName=\"result announcement\" />}\n      \n      <Button  onClick={() => setLanguage(!language)}>{language ? 'English': 'Amharic'}</Button>\n      <Table pagination={{ position: [], pageSize: result.length }} size='larg' columns={columns} dataSource={result} loading={loading}/>\n  </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}