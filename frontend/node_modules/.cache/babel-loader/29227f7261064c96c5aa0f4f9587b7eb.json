{"ast":null,"code":"import _objectSpread from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/johndoe/Nebe-data-vistualization/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{SmileOutlined}from'@ant-design/icons';import{Form,Input,Spin,Select,Button}from'antd';import{useSelector}from'react-redux';import{API_SERVER1}from'../../../config/constant';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Option=Select.Option;var formItemLayout={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}};export default function Index(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),model=_useState2[0],setModel=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),active=_useState8[0],setActive=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),objects=_useState10[0],setObjects=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),objectsid=_useState14[0],setObjectsid=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),objtype=_useState16[0],setObjType=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),description=_useState18[0],setDescription=_useState18[1];var account=useSelector(function(state){return state.account;});var getSelectedModelData=function getSelectedModelData(value){setLoading(true);setObjType(value);axios.get(API_SERVER1+\"data/requests/request_change/\".concat(value),{headers:{Authorization:\"\".concat(account.token)}}).then(function(response){console.log(response);setActive(true);setLoading(false);setObjects(response.data);}).catch(function(error){setLoading(false);setError(true);});};var onSelectModel=function onSelectModel(e){if(e=='newvotehoprgeneral'||e=='newvotehopresult'||e=='newvotehoprmax'){setTitle('House of Peoples Representative');}else if(e=='newvotercgeneral'||e=='newvotercresult'||e=='newvotercmax'){setTitle('Regional Constituency ');}getSelectedModelData(e);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center'},children:\"Change Request Form\"}),/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},formItemLayout),{},{children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Data Source\",hasFeedback:true,children:/*#__PURE__*/_jsxs(Select,{allowClear:true,onSelect:onSelectModel,children:[/*#__PURE__*/_jsx(Option,{value:\"newvotehoprgeneral\",children:\"HOPR General Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotehopresult\",children:\"HOPR Candidate Result Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotehoprmax\",children:\"HOPR Winner Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotercgeneral\",children:\"RC General Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotercresult\",children:\"RC Candidate Result Data\"}),/*#__PURE__*/_jsx(Option,{value:\"newvotercmax\",children:\"RC Winner Data\"})]})}),objtype=='newvotehopresult'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.constituency.name},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),\" \"]}):null,objtype=='newvotehoprmax'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.constituency.name},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),\" \"]}):null,objtype=='newvotehoprgeneral'?/*#__PURE__*/_jsxs(_Fragment,{children:[active?/*#__PURE__*/_jsx(Form.Item,{label:title,validateStatus:\"warning\",children:!objects.length?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Error Loading Data, please check your connection and refresh the page\"}):/*#__PURE__*/_jsx(Select,{onSelect:function onSelect(e){return setObjectsid(e);},children:objects.map(function(item,index){return/*#__PURE__*/_jsx(Option,{value:item.hoprconstituency.constituencyid,children:item.hoprconstituency.constituencyname},index);})})}):/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Spin,{}):null}),\" \"]}):null,/*#__PURE__*/_jsx(Form.Item,{name:\"Description\",label:\"Description\",rules:[{required:true,message:'Please input Description'}],children:/*#__PURE__*/_jsx(Input.TextArea,{showCount:true,maxLength:100,onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsx(Form.Item,{style:{justifyContent:'right',marginLeft:'62%'},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Send\"})})]}))]});}","map":{"version":3,"sources":["/Users/johndoe/Nebe-data-vistualization/src/views/result/Request/index.js"],"names":["React","useState","useEffect","SmileOutlined","Form","Input","Spin","Select","Button","useSelector","API_SERVER1","axios","Option","formItemLayout","labelCol","xs","span","sm","wrapperCol","Index","model","setModel","loading","setLoading","title","setTitle","active","setActive","objects","setObjects","error","setError","objectsid","setObjectsid","objtype","setObjType","description","setDescription","account","state","getSelectedModelData","value","get","headers","Authorization","token","then","response","console","log","data","catch","onSelectModel","e","textAlign","length","color","map","item","index","id","constituency","name","hoprconstituency","constituencyid","constituencyname","required","message","target","justifyContent","marginLeft"],"mappings":"2TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,OAASC,aAAT,KAA8B,mBAA9B,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,IAAtB,CAA4BC,MAA5B,CAAoCC,MAApC,KAAkD,MAAlD,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,KAA4B,0BAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAGA,GAAQC,CAAAA,MAAR,CAAmBL,MAAnB,CAAQK,MAAR,CAEA,GAAMC,CAAAA,cAAc,CAAG,CACrBC,QAAQ,CAAE,CACRC,EAAE,CAAE,CAAEC,IAAI,CAAE,EAAR,CADI,CAERC,EAAE,CAAE,CAAED,IAAI,CAAE,CAAR,CAFI,CADW,CAKrBE,UAAU,CAAE,CACVH,EAAE,CAAE,CAAEC,IAAI,CAAE,EAAR,CADM,CAEVC,EAAE,CAAE,CAAED,IAAI,CAAE,EAAR,CAFM,CALS,CAAvB,CAYA,cAAe,SAASG,CAAAA,KAAT,EAAiB,CAC5B,cAA0BlB,QAAQ,CAAC,EAAD,CAAlC,wCAAOmB,KAAP,eAAcC,QAAd,eACA,eAA8BpB,QAAQ,CAAC,KAAD,CAAtC,yCAAOqB,OAAP,eAAgBC,UAAhB,eACA,eAA0BtB,QAAQ,CAAC,EAAD,CAAlC,yCAAOuB,KAAP,eAAcC,QAAd,eACA,eAA4BxB,QAAQ,CAAC,KAAD,CAApC,yCAAOyB,MAAP,eAAeC,SAAf,eACA,eAA8B1B,QAAQ,CAAC,EAAD,CAAtC,0CAAO2B,OAAP,gBAAgBC,UAAhB,gBACA,gBAA0B5B,QAAQ,CAAC,KAAD,CAAlC,2CAAO6B,KAAP,gBAAcC,QAAd,gBACA,gBAAkC9B,QAAQ,CAAC,CAAD,CAA1C,2CAAO+B,SAAP,gBAAkBC,YAAlB,gBACA,gBAA8BhC,QAAQ,CAAC,EAAD,CAAtC,2CAAOiC,OAAP,gBAAgBC,UAAhB,gBACA,gBAAsClC,QAAQ,CAAC,EAAD,CAA9C,2CAAOmC,WAAP,gBAAoBC,cAApB,gBACA,GAAMC,CAAAA,OAAO,CAAG7B,WAAW,CAAC,SAAC8B,KAAD,QAAWA,CAAAA,KAAK,CAACD,OAAjB,EAAD,CAA3B,CAEA,GAAME,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAU,CACnClB,UAAU,CAAC,IAAD,CAAV,CACAY,UAAU,CAACM,KAAD,CAAV,CACA9B,KAAK,CACF+B,GADH,CACOhC,WAAW,wCAAmC+B,KAAnC,CADlB,CAC8D,CAAEE,OAAO,CAAE,CAAEC,aAAa,WAAKN,OAAO,CAACO,KAAb,CAAf,CAAX,CAD9D,EAEGC,IAFH,CAEQ,SAAUC,QAAV,CAAoB,CACxBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACApB,SAAS,CAAC,IAAD,CAAT,CACAJ,UAAU,CAAC,KAAD,CAAV,CACAM,UAAU,CAACkB,QAAQ,CAACG,IAAV,CAAV,CACD,CAPH,EAQGC,KARH,CAQS,SAAUrB,KAAV,CAAiB,CACtBP,UAAU,CAAC,KAAD,CAAV,CACAQ,QAAQ,CAAC,IAAD,CAAR,CACD,CAXH,EAaH,CAhBD,CAiBA,GAAMqB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,CAAC,CAAG,CACtB,GAAIA,CAAC,EAAI,oBAAL,EAA6BA,CAAC,EAAI,kBAAlC,EAAwDA,CAAC,EAAE,gBAA/D,CAAgF,CAAE5B,QAAQ,CAAC,iCAAD,CAAR,CAA4C,CAA9H,IACK,IAAI4B,CAAC,EAAI,kBAAL,EAA2BA,CAAC,EAAI,iBAAhC,EAAqDA,CAAC,EAAI,cAA9D,CAA6E,CAAE5B,QAAQ,CAAC,wBAAD,CAAR,CAAmC,CAEvHe,oBAAoB,CAACa,CAAD,CAApB,CACH,CALD,CAMF,mBACE,oCACE,WAAI,KAAK,CAAE,CAACC,SAAS,CAAE,QAAZ,CAAX,iCADF,cAEI,MAAC,IAAD,gCAAUzC,cAAV,6BACA,KAAC,IAAD,CAAM,IAAN,EAAW,KAAK,CAAC,aAAjB,CAA+B,WAAW,KAA1C,uBACA,MAAC,MAAD,EAAQ,UAAU,KAAlB,CAAmB,QAAQ,CAAEuC,aAA7B,wBACI,KAAC,MAAD,EAAQ,KAAK,CAAC,oBAAd,+BADJ,cAEI,KAAC,MAAD,EAAQ,KAAK,CAAC,kBAAd,wCAFJ,cAGI,KAAC,MAAD,EAAQ,KAAK,CAAC,gBAAd,8BAHJ,cAII,KAAC,MAAD,EAAQ,KAAK,CAAC,kBAAd,6BAJJ,cAKI,KAAC,MAAD,EAAQ,KAAK,CAAC,iBAAd,sCALJ,cAMI,KAAC,MAAD,EAAQ,KAAK,CAAC,cAAd,4BANJ,GADA,EADA,CAWClB,OAAO,EAAI,kBAAX,cAAgC,2BAChCR,MAAM,cACP,KAAC,IAAD,CAAM,IAAN,EAAW,KAAK,CAAEF,KAAlB,CAAyB,cAAc,CAAC,SAAxC,UACG,CAACI,OAAO,CAAC2B,MAAT,cAAmB,UAAG,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAT,CAAV,mFAAnB,cACD,KAAC,MAAD,EAAQ,QAAQ,CAAE,kBAACH,CAAD,QAAOpB,CAAAA,YAAY,CAACoB,CAAD,CAAnB,EAAlB,UAA4CzB,OAAO,CAAC6B,GAAR,CAAY,SAACC,IAAD,CAAOC,KAAP,qBAChD,KAAC,MAAD,EAAoB,KAAK,CAAED,IAAI,CAACE,EAAhC,UAAqCF,IAAI,CAACG,YAAL,CAAkBC,IAAvD,EAAaH,KAAb,CADgD,EAAZ,CAA5C,EAFF,EADO,cASP,qBAAMrC,OAAO,cAAG,KAAC,IAAD,IAAH,CAAc,IAA3B,EAViC,OAAhC,CAU4C,IArB7C,CAuBCY,OAAO,EAAI,gBAAX,cAA8B,2BAC9BR,MAAM,cACP,KAAC,IAAD,CAAM,IAAN,EAAW,KAAK,CAAEF,KAAlB,CAAyB,cAAc,CAAC,SAAxC,UACG,CAACI,OAAO,CAAC2B,MAAT,cAAmB,UAAG,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAT,CAAV,mFAAnB,cACD,KAAC,MAAD,EAAQ,QAAQ,CAAE,kBAACH,CAAD,QAAOpB,CAAAA,YAAY,CAACoB,CAAD,CAAnB,EAAlB,UAA4CzB,OAAO,CAAC6B,GAAR,CAAY,SAACC,IAAD,CAAOC,KAAP,qBAChD,KAAC,MAAD,EAAoB,KAAK,CAAED,IAAI,CAACE,EAAhC,UAAqCF,IAAI,CAACG,YAAL,CAAkBC,IAAvD,EAAaH,KAAb,CADgD,EAAZ,CAA5C,EAFF,EADO,cASP,qBAAMrC,OAAO,cAAG,KAAC,IAAD,IAAH,CAAc,IAA3B,EAV+B,OAA9B,CAU4C,IAjC7C,CAkCSY,OAAO,EAAI,oBAAX,cAAkC,2BAC1CR,MAAM,cACP,KAAC,IAAD,CAAM,IAAN,EAAW,KAAK,CAAEF,KAAlB,CAAyB,cAAc,CAAC,SAAxC,UACG,CAACI,OAAO,CAAC2B,MAAT,cAAmB,UAAG,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAT,CAAV,mFAAnB,cACD,KAAC,MAAD,EAAQ,QAAQ,CAAE,kBAACH,CAAD,QAAOpB,CAAAA,YAAY,CAACoB,CAAD,CAAnB,EAAlB,UAA4CzB,OAAO,CAAC6B,GAAR,CAAY,SAACC,IAAD,CAAOC,KAAP,qBAChD,KAAC,MAAD,EAAoB,KAAK,CAAED,IAAI,CAACK,gBAAL,CAAsBC,cAAjD,UAAkEN,IAAI,CAACK,gBAAL,CAAsBE,gBAAxF,EAAaN,KAAb,CADgD,EAAZ,CAA5C,EAFF,EADO,cASP,qBAAMrC,OAAO,cAAG,KAAC,IAAD,IAAH,CAAc,IAA3B,EAV2C,OAAlC,CAUoC,IA5C7C,cA6CF,KAAC,IAAD,CAAM,IAAN,EACE,IAAI,CAAC,aADP,CAEE,KAAK,CAAC,aAFR,CAGE,KAAK,CAAE,CAAC,CAAE4C,QAAQ,CAAE,IAAZ,CAAkBC,OAAO,CAAE,0BAA3B,CAAD,CAHT,uBAKE,KAAC,KAAD,CAAO,QAAP,EAAgB,SAAS,KAAzB,CAA0B,SAAS,CAAE,GAArC,CAA0C,QAAQ,CAAE,kBAACd,CAAD,QAAOhB,CAAAA,cAAc,CAACgB,CAAC,CAACe,MAAF,CAAS3B,KAAV,CAArB,EAApD,EALF,EA7CE,cAoDF,KAAC,IAAD,CAAM,IAAN,EAAW,KAAK,CAAE,CAAC4B,cAAc,CAAE,OAAjB,CAA0BC,UAAU,CAAE,KAAtC,CAAlB,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,kBADF,EApDE,IAFJ,GADF,CAgED","sourcesContent":["import React,  {useState, useEffect} from 'react'\nimport { SmileOutlined } from '@ant-design/icons';\nimport { Form, Input, Spin, Select, Button } from 'antd';\nimport { useSelector } from 'react-redux';\nimport { API_SERVER1 } from '../../../config/constant';\nimport axios from 'axios'\n\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 6 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 14 },\n  },\n};\n\n\nexport default function Index() {\n    const [model, setModel] = useState('')\n    const [loading, setLoading] = useState(false)\n    const [title, setTitle] = useState('')\n    const [active, setActive] = useState(false)\n    const [objects, setObjects] = useState([])\n    const [error, setError] = useState(false)\n    const [objectsid, setObjectsid] = useState(0)\n    const [objtype, setObjType] = useState('')\n    const [description, setDescription] = useState('')\n    const account = useSelector((state) => state.account);\n\n    const getSelectedModelData = (value) =>{\n        setLoading(true)\n        setObjType(value)\n        axios\n          .get(API_SERVER1 + `data/requests/request_change/${value}`, { headers: { Authorization: `${account.token}` } })\n          .then(function (response) {\n            console.log(response)\n            setActive(true)\n            setLoading(false)\n            setObjects(response.data)\n          })\n          .catch(function (error) {\n            setLoading(false)\n            setError(true)\n          });\n\n    }\n    const onSelectModel = e =>{\n        if (e == 'newvotehoprgeneral' || e == 'newvotehopresult' || e=='newvotehoprmax'){ setTitle('House of Peoples Representative')}\n        else if (e == 'newvotercgeneral' || e == 'newvotercresult' || e == 'newvotercmax'){ setTitle('Regional Constituency ')}\n        \n        getSelectedModelData(e)\n    }\n  return (\n    <div>\n      <h3 style={{textAlign: 'center'}}>Change Request Form</h3>\n        <Form {...formItemLayout}>\n        <Form.Item label=\"Data Source\" hasFeedback>\n        <Select allowClear onSelect={onSelectModel}>\n            <Option value=\"newvotehoprgeneral\">HOPR General Data</Option>\n            <Option value=\"newvotehopresult\">HOPR Candidate Result Data</Option>\n            <Option value=\"newvotehoprmax\">HOPR Winner Data</Option>\n            <Option value=\"newvotercgeneral\">RC General Data</Option>\n            <Option value=\"newvotercresult\">RC Candidate Result Data</Option>\n            <Option value=\"newvotercmax\">RC Winner Data</Option>\n        </Select>\n        </Form.Item>\n        {objtype == 'newvotehopresult' ? <>\n        {active ? \n        <Form.Item label={title} validateStatus=\"warning\">\n          {!objects.length ?  <p style={{ color: 'red'}}>Error Loading Data, please check your connection and refresh the page</p> : \n          <Select onSelect={(e) => setObjectsid(e)} >{objects.map((item, index) =>(\n                  <Option key={index} value={item.id}>{item.constituency.name}</Option>\n              ))} \n          </Select>}\n      </Form.Item>\n       :\n        <div>{loading ? <Spin /> : null}</div>} </>: null}\n        \n        {objtype == 'newvotehoprmax' ? <>\n        {active ? \n        <Form.Item label={title} validateStatus=\"warning\">\n          {!objects.length ?  <p style={{ color: 'red'}}>Error Loading Data, please check your connection and refresh the page</p> : \n          <Select onSelect={(e) => setObjectsid(e)} >{objects.map((item, index) =>(\n                  <Option key={index} value={item.id}>{item.constituency.name}</Option>\n              ))} \n          </Select>}\n      </Form.Item>\n       :\n        <div>{loading ? <Spin /> : null}</div>} </>: null}\n                {objtype == 'newvotehoprgeneral' ? <>\n        {active ? \n        <Form.Item label={title} validateStatus=\"warning\">\n          {!objects.length ?  <p style={{ color: 'red'}}>Error Loading Data, please check your connection and refresh the page</p> : \n          <Select onSelect={(e) => setObjectsid(e)} >{objects.map((item, index) =>(\n                  <Option key={index} value={item.hoprconstituency.constituencyid}>{item.hoprconstituency.constituencyname}</Option>\n              ))} \n          </Select>}\n      </Form.Item>\n       :\n        <div>{loading ? <Spin /> : null}</div>} </>: null}\n      <Form.Item\n        name=\"Description\"\n        label=\"Description\"\n        rules={[{ required: true, message: 'Please input Description' }]}\n      >\n        <Input.TextArea showCount maxLength={100} onChange={(e) => setDescription(e.target.value)} />\n      </Form.Item>\n      <Form.Item style={{justifyContent: 'right', marginLeft: '62%'}}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Send\n        </Button>\n      </Form.Item>\n    \n    </Form>\n  </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}